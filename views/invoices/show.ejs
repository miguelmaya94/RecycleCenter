<% layout('layouts/layout') %>
<h2 class="text-xl font-semibold italic mb-2">Invoice #<%= invoice.invoiceNo %></h2>
<p class="text-sm opacity-70 mb-4"><%= new Date(invoice.invoiceDate).toLocaleString() %></p>
<p class="mb-2"><strong>Customer:</strong> <%= invoice.customer ? invoice.customer.name : 'Cash Customer' %></p>

<table class="w-full text-sm">
  <thead><tr class="bg-gray-100">
    <th class="p-2 text-left">Item</th><th class="p-2">Gross</th><th class="p-2">Rate</th>
    <th class="p-2">Net</th><th class="p-2">Price</th><th class="p-2">Ext</th>
  </tr></thead>
  <tbody>
  <% invoice.lines.forEach(l=>{ %>
    <tr class="border-b">
      <td class="p-2"><%= l.item?.description %></td>
      <td class="p-2"><%= l.grossLbs.toFixed(2) %></td>
      <td class="p-2"><%= l.rateLbs.toFixed(2) %></td>
      <td class="p-2"><%= l.netLbs.toFixed(2) %></td>
      <td class="p-2">$<%= l.price.toFixed(2) %></td>
      <td class="p-2">$<%= l.extPrice.toFixed(2) %></td>
    </tr>
  <% }) %>
  </tbody>
</table>

<div class="flex justify-end gap-6 mt-4 text-lg">
  <div>Total Net Lbs: <%= invoice.totalNetLbs.toFixed(2) %></div>
  <div>Total Amount: $<%= invoice.totalAmount.toFixed(2) %></div>
</div>

<div class="mt-6">
  <a class="px-3 py-2 bg-gray-200 rounded" href="/">Back to Menu</a>
</div>
